<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Adding reviews to a product</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part204.htm">&lt; Previous</a><span> | </span><a href="../Learn+React+with+TypeScript+3.htm">Contents</a><span> | </span><a href="part206.htm">Next &gt;</a></p><h4 style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a name="bookmark528">Adding reviews to a product</a></h4><p style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Before we create our <span class="s22">Tabs </span>compound component, let&#39;s add reviews to the product page:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 1pt;padding-left: 40pt;text-indent: 0pt;line-height: 13pt;text-align: left;">1. First, we need to add an interface for the review data structure in</p><p class="s22" style="padding-left: 53pt;text-indent: 0pt;line-height: 13pt;text-align: left;">ProductsData.ts<span class="p">:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s12" style="padding-left: 79pt;text-indent: -10pt;line-height: 120%;text-align: left;">export interface IReview { comment: string; reviewer: string;</p><p class="s12" style="padding-left: 68pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 1pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">2. We can now add reviews to our product interface :</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s12" style="padding-left: 68pt;text-indent: 0pt;text-align: left;">export interface IProduct {</p><p class="s12" style="padding-top: 1pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">...</p><p class="s21" style="padding-top: 1pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">reviews: IReview[];</p><p class="s12" style="padding-top: 1pt;padding-left: 68pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 1pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">3. We can now add reviews to our product data array:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s12" style="padding-left: 68pt;text-indent: 0pt;text-align: left;">const products: IProduct[] = [</p><p class="s12" style="padding-top: 1pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">{</p><p class="s12" style="padding-top: 1pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">id: 1,</p><p class="s12" style="padding-top: 1pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">...</p><p class="s21" style="padding-top: 1pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">reviews: [</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;text-align: left;">{</p><p class="s21" style="padding-left: 111pt;text-indent: 0pt;line-height: 106%;text-align: left;">comment: &quot;Excellent! This does everything I want&quot;, reviewer: &quot;Billy&quot;</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;line-height: 10pt;text-align: left;">},</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;line-height: 106%;text-align: left;">{ comment: &quot;The best router I&#39;ve ever worked with&quot;, reviewer: &quot;Sally&quot; }</p><p class="s21" style="padding-left: 90pt;text-indent: 0pt;line-height: 10pt;text-align: left;">]</p><p class="s12" style="padding-top: 1pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">},</p><p class="s12" style="padding-top: 1pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">{</p><p class="s12" style="padding-top: 1pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">id: 2,</p><p class="s12" style="padding-top: 1pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">..</p><p class="s21" style="padding-top: 1pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">reviews: [</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;text-align: left;">{</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s21" style="padding-left: 111pt;text-indent: 0pt;line-height: 106%;text-align: left;"><a name="bookmark529">comment: &quot;I&#39;ve found this really useful in a large app I&#39;m working on&quot;,</a></p><p class="s21" style="padding-left: 111pt;text-indent: 0pt;line-height: 10pt;text-align: left;">reviewer: &quot;Billy&quot;</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;text-align: left;">},</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;text-align: left;">{</p><p class="s21" style="padding-left: 111pt;text-indent: 0pt;line-height: 106%;text-align: left;">comment: &quot;A bit confusing at first but simple when you get used to it&quot;,</p><p class="s21" style="padding-left: 111pt;text-indent: 0pt;line-height: 10pt;text-align: left;">reviewer: &quot;Sally&quot;</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;text-align: left;">}</p><p class="s21" style="padding-left: 90pt;text-indent: 0pt;text-align: left;">]</p><p class="s12" style="padding-top: 1pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">},</p><p class="s12" style="padding-top: 1pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">{</p><p class="s12" style="padding-top: 1pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">id: 3,</p><p class="s12" style="padding-top: 1pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">..</p><p class="s21" style="padding-top: 1pt;padding-left: 90pt;text-indent: 0pt;text-align: left;">reviews: [</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;text-align: left;">{</p><p class="s21" style="padding-left: 111pt;text-indent: 0pt;line-height: 106%;text-align: left;">comment: &quot;I&#39;ll never work with a REST API again!&quot;, reviewer: &quot;Billy&quot;</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;line-height: 10pt;text-align: left;">},</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;text-align: left;">{</p><p class="s21" style="padding-left: 111pt;text-indent: 0pt;line-height: 106%;text-align: left;">comment: &quot;It makes working with GraphQL backends a breeze&quot;, reviewer: &quot;Sally&quot;</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;line-height: 10pt;text-align: left;">}</p><p class="s21" style="padding-left: 90pt;text-indent: 0pt;text-align: left;">]</p><p class="s12" style="padding-top: 1pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">}</p><p class="s12" style="padding-top: 1pt;padding-left: 68pt;text-indent: 0pt;text-align: left;">];</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 2pt;padding-left: 50pt;text-indent: 0pt;line-height: 94%;text-align: left;">So, we add a <span class="s22">reviews </span>property to each product that is an array of reviews. Each review is an object containing <span class="s22">comment </span>and <span class="s22">reviewer </span>properties as defined by the <span class="s22">IReview </span>interface.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 2pt;padding-left: 53pt;text-indent: -13pt;line-height: 94%;text-align: left;">4. With our data in place, let&#39;s add the reviews to our <span class="s22">Product </span>component after the description:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s12" style="padding-left: 68pt;text-indent: 0pt;text-align: left;">&lt;p&gt;{product.description}&lt;/p&gt;</p><p class="s21" style="padding-top: 1pt;padding-left: 68pt;text-indent: 0pt;text-align: left;">&lt;div&gt;</p><p class="s21" style="padding-left: 79pt;text-indent: 0pt;text-align: left;">&lt;ul className=&quot;product-reviews&quot;&gt;</p><p class="s21" style="padding-left: 90pt;text-indent: 0pt;text-align: left;">{product.reviews.map(review =&gt; (</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;text-align: left;">&lt;li key={review.reviewer} className=&quot;product-reviews-item&quot;&gt;</p><p class="s21" style="padding-left: 111pt;text-indent: 0pt;text-align: left;">&lt;i&gt;&quot;{review.comment}&quot;&lt;/i&gt; - {review.reviewer}</p><p class="s21" style="padding-left: 101pt;text-indent: 0pt;text-align: left;">&lt;/li&gt;</p><p class="s21" style="text-indent: 0pt;text-align: right;">))}</p><p class="s21" style="text-indent: 0pt;text-align: right;">&lt;/ul&gt;</p><p class="s21" style="padding-left: 68pt;text-indent: 0pt;text-align: left;">&lt;/div&gt;</p><p class="s12" style="padding-left: 68pt;text-indent: 0pt;text-align: left;">&lt;p className=&quot;product-price&quot;&gt;</p><p class="s12" style="padding-top: 1pt;padding-left: 79pt;text-indent: 0pt;text-align: left;">...</p><p class="s12" style="padding-top: 1pt;padding-left: 68pt;text-indent: 0pt;text-align: left;">&lt;/p&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 2pt;padding-left: 50pt;text-indent: 0pt;line-height: 14pt;text-align: left;"><a name="bookmark530">So, we are using the </a><span class="s22">map </span>function on the <span class="s22">reviews </span>array to display <span class="s22">comment </span>and</p><p class="s22" style="padding-left: 50pt;text-indent: 0pt;line-height: 14pt;text-align: left;">reviewer <span class="p">in a list.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 2pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">5. We have referenced some new CSS classes, so let&#39;s add these into <span class="s22">index.css</span>:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s12" style="padding-top: 5pt;padding-left: 79pt;text-indent: -10pt;line-height: 120%;text-align: left;">.product-reviews { list-style: none; padding: 0px;</p><p class="s12" style="padding-left: 68pt;text-indent: 0pt;text-align: left;">}</p><p class="s12" style="padding-top: 1pt;padding-left: 79pt;text-indent: -10pt;line-height: 120%;text-align: left;">.product-reviews .product-reviews-item { display: block;</p><p class="s12" style="padding-left: 79pt;text-indent: 0pt;text-align: left;">padding: 8px 0px;</p><p class="s12" style="padding-top: 1pt;padding-left: 68pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 50pt;text-indent: 0pt;text-align: left;">If we look at the running app and go to a product, we&#39;ll now see the reviews:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 32pt;text-indent: 0pt;text-align: left;"><span><img width="497" height="335" alt="image" src="Image_302.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 94%;text-align: left;">Now that we have added the reviews, we can work on our <span class="s22">Tabs </span>component in the next section.</p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part204.htm">&lt; Previous</a><span> | </span><a href="../Learn+React+with+TypeScript+3.htm">Contents</a><span> | </span><a href="part206.htm">Next &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
